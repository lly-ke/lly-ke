# 🎮 Vue3 Super Mario Game

一个使用Vue3开发的超级马里奥风格平台游戏，已修复所有已知问题。

## ✨ 已修复的问题

### 1. ✅ 人物精灵问题
- **之前**: 角色显示为苹果或其他不相关的图形
- **现在**: 正确绘制马里奥角色，包含红色帽子、金色衣服、蓝色裤子和棕色鞋子
- **实现**: 使用Canvas 2D API手绘像素风格的马里奥角色

### 2. ✅ 移动范围问题
- **之前**: 上下左右移动范围很小，角色几乎无法移动
- **现在**: 
  - 水平移动速度: 5像素/帧 (流畅快速)
  - 跳跃力度: 15像素 (可以跳到高平台)
  - 重力: 0.8 (自然的跳跃弧线)
  - 可以在1200x600的游戏区域自由移动

### 3. ✅ 尺寸比例问题
- **之前**: 人物和建筑物尺寸不匹配
- **现在**: 
  - 马里奥尺寸: 48x48像素
  - 建筑物尺寸: 50-70像素宽，60-80像素高
  - 平台和障碍物比例协调
  - 金币尺寸: 24x24像素

### 4. ✅ 碰撞检测
- **新增**: 完整的碰撞检测系统
  - 玩家与平台的碰撞
  - 玩家与建筑物的碰撞（四个方向）
  - 玩家与金币的碰撞检测
  - 边界检测防止玩家出界

### 5. ✅ 其他改进
- **物理系统**: 添加重力和跳跃机制
- **视觉效果**: 
  - 渐变天空背景
  - 立体云朵
  - 带纹理的平台
  - 建筑物带窗户和门
  - 动画金币
- **游戏反馈**: 实时显示坐标和分数
- **控制优化**: 支持方向键和WASD双键位控制
- **角色动画**: 支持左右转向

## 🎯 游戏特性

- 🏃 流畅的角色移动和跳跃
- 🏗️ 多层平台系统
- 🏠 可碰撞的建筑物
- 💰 可收集的金币（每个100分）
- ☁️ 装饰性云朵
- 📊 分数系统
- 🎨 像素艺术风格

## 🎮 操作说明

- **移动**: 
  - ⬅️ 左箭头 或 A
  - ➡️ 右箭头 或 D
  - ⬆️ 上箭头 或 W 或 空格 - 跳跃
- **目标**: 收集所有金币获得高分

## 🚀 运行项目

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

## 🛠️ 技术栈

- **Vue 3**: 使用Composition API
- **Vite**: 快速的开发构建工具
- **Canvas API**: 2D游戏渲染
- **原生JavaScript**: 游戏逻辑和物理引擎

## 📝 游戏机制

1. **重力系统**: 玩家会自然下落，需要站在平台上
2. **跳跃**: 只能在地面时跳跃，防止二段跳
3. **碰撞**: 可以从上方跳到建筑物和平台上
4. **边界**: 游戏区域有边界限制
5. **掉落惩罚**: 掉出底部会重置位置并扣50分

## 🎨 视觉设计

- 马里奥标志性的红帽子和蓝色工装裤
- 复古像素艺术风格
- 明亮的配色方案
- 流畅的60fps动画

## 🐛 已知问题修复清单

- [x] 角色精灵显示错误（苹果图标）
- [x] 移动速度太慢/移动范围太小
- [x] 角色与建筑物尺寸不匹配
- [x] 缺少碰撞检测
- [x] 缺少重力系统
- [x] 没有跳跃功能
- [x] 缺少游戏边界
- [x] 缺少视觉反馈（分数、坐标）

## 📦 项目结构

```
vue3-super-mario-game/
├── src/
│   ├── App.vue          # 主游戏组件
│   └── main.js          # 应用入口
├── public/              # 静态资源
├── index.html           # HTML入口
├── vite.config.js       # Vite配置
└── package.json         # 项目配置
```

## 🎓 代码特点

- **响应式状态管理**: 使用Vue 3的ref进行游戏状态管理
- **游戏循环**: 使用requestAnimationFrame实现60fps游戏循环
- **事件处理**: 键盘事件监听实现玩家控制
- **Canvas渲染**: 高性能的2D图形渲染
- **碰撞检测**: AABB矩形碰撞检测算法

## 💡 未来改进建议

- [ ] 添加敌人和障碍物
- [ ] 添加音效和背景音乐
- [ ] 添加多个关卡
- [ ] 添加生命值系统
- [ ] 添加道具和能力提升
- [ ] 添加精灵动画帧
- [ ] 支持触摸控制（移动设备）
- [ ] 添加游戏暂停功能
- [ ] 添加最高分记录

---

享受游戏吧！🎮✨
